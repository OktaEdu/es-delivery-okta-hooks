{
	"info": {
		"_postman_id": "a4a4068b-1db5-4fcf-b5a7-d88af705e1e1",
		"name": "Okta Registration Hooks",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "List all inline hooks",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "SSWS {{apikey}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update inline hook",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "SSWS {{apikey}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "    {\n        \"id\": \"{{hookId}}\",\n        \"status\": \"ACTIVE\",\n        \"name\": \"Registration inline hook with demo scenarios by email domain\",\n        \"type\": \"com.okta.user.pre-registration\",\n        \"version\": \"1.0.0\",\n        \"channel\": {\n            \"type\": \"HTTP\",\n            \"version\": \"1.0.0\",\n            \"config\": {\n                \"uri\": \"{{apiurlbase}}/registration/domain\",\n                \"headers\": [\n                    {\n                        \"key\": \"Content-Type\",\n                        \"value\": \"application/json\"\n                    }\n                ],\n                \"method\": \"POST\",\n                \"authScheme\": {\n                    \"type\": \"HEADER\",\n                    \"key\": \"x-api-key\",\n                    \"value\": \"{{awsapikey}}\"\n                }\n            }\n        },\n        \"created\": \"2018-12-13T20:24:53.000Z\",\n        \"lastUpdated\": \"2018-12-13T20:24:53.000Z\"\n    }"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}/{{hookId}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}",
						"{{hookId}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get  inline hook by ID",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "SSWS {{apikey}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}/{{hookId}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}",
						"{{hookId}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update inline hook by ID Copy",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "SSWS {{apikey}}"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "\n    {\n        \"status\": \"ACTIVE\",\n        \"name\": \"Okta pre-registration callback\",\n        \"type\": \"com.okta.user.pre-registration\",\n        \"version\": \"1.0.0\",\n        \"channel\": {\n            \"type\": \"HTTP\",\n            \"version\": \"1.0.0\",\n            \"config\": {\n                \"uri\": \"https://cgfzm7zd37.execute-api.us-east-1.amazonaws.com/beta/okta-callbacks/registration\",\n                \"headers\": [\n                    {\n                        \"key\": \"Content-Type\",\n                        \"value\": \"application/json\"\n                    }\n                ],\n                \"method\": \"POST\",\n                \"authScheme\": {\n                    \"type\": \"HEADER\",\n                    \"key\": \"x-api-key\",\n                    \"value\": \"Px97UIdZ3F9Eo7aL9YU33aZmhC0ZVFEq8Wtc2sRy\"\n                }\n            }\n        },\n        \"created\": \"2018-11-20T20:38:23.000Z\",\n        \"lastUpdated\": \"2018-11-20T21:55:07.000Z\"\n    }"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}/{{hookId}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}",
						"{{hookId}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete inline hook by ID",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "SSWS {{apikey}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"status\": \"INACTIVE\"\n}"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}/{{hookId}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}",
						"{{hookId}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create inline registration hook with DB lookup",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "SSWS {{apikey}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\": \"Registration inline hook with account verification\",\n\t\"type\": \"com.okta.user.pre-registration\",\n\t\"version\": \"1.0.0\",\n\t\"channel\": {\n\t\t\"type\": \"HTTP\",\n\t\t\"version\": \"1.0.0\",\n\t\t\"config\": {\n\t\t\t\"uri\": \"https://okta-hooks.glitch.me/okta/hooks/registration/dblookup\",\n\t\t\t\"method\": \"POST\",\n\t\t\t\"headers\": [{\n\t\t\t\t\"key\": \"Content-Type\",\n\t\t\t\t\"value\": \"application/json\"\n\t\t\t}],\n\t\t\t\"authScheme\": {\n\t\t\t\t\"type\": \"HEADER\",\n\t\t\t\t\"key\": \"x-api-key\",\n\t\t\t\t\"value\": \"{{awsapikey}}\"\n\t\t\t}\n\t\t}\n\t}\n}\n"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create inline registration hook (experimental)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "SSWS {{apikey}}"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\": \"Registration inline hook (experimental)\",\n\t\"type\": \"com.okta.user.pre-registration\",\n\t\"version\": \"1.0.0\",\n\t\"channel\": {\n\t\t\"type\": \"HTTP\",\n\t\t\"version\": \"1.0.0\",\n\t\t\"config\": {\n\t\t\t\"uri\": \"https://okta-hooks.glitch.me/okta/hooks/registration/exp\",\n\t\t\t\"method\": \"POST\",\n\t\t\t\"headers\": [{\n\t\t\t\t\"key\": \"Content-Type\",\n\t\t\t\t\"value\": \"application/json\"\n\t\t\t}],\n\t\t\t\"authScheme\": {\n\t\t\t\t\"type\": \"HEADER\",\n\t\t\t\t\"key\": \"x-api-key\",\n\t\t\t\t\"value\": \"{{awsapikey}}\"\n\t\t\t}\n\t\t}\n\t}\n}\n"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create inline registration hook with demo scenarios by email domain",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "SSWS {{apikey}}",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\": \"Registration inline hook with demo scenarios by email domain\",\n\t\"type\": \"com.okta.user.pre-registration\",\n\t\"version\": \"1.0.0\",\n\t\"channel\": {\n\t\t\"type\": \"HTTP\",\n\t\t\"version\": \"1.0.0\",\n\t\t\"config\": {\n\t\t\t\"uri\": \"https://okta-hooks.glitch.me/okta/hooks/registration/domain\",\n\t\t\t\"method\": \"POST\",\n\t\t\t\"headers\": [{\n\t\t\t\t\"key\": \"Content-Type\",\n\t\t\t\t\"value\": \"application/json\"\n\t\t\t}],\n\t\t\t\"authScheme\": {\n\t\t\t\t\"type\": \"HEADER\",\n\t\t\t\t\"key\": \"x-api-key\",\n\t\t\t\t\"value\": \"{{awsapikey}}\"\n\t\t\t}\n\t\t}\n\t}\n}\n"
				},
				"url": {
					"raw": "{{url}}/api/v1/{{inlineHookEndpoint}}",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"v1",
						"{{inlineHookEndpoint}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Sample call to registration hook with DB lookup",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"data\": {\n\t\t\"userProfile\": {\n\t\t\t\"memberNumber\": \"12345678\",\n\t\t\t\"ssn\": \"111223333\"\t\n\t\t}\n\t}\n}"
				},
				"url": {
					"raw": "https://okta-hooks.glitch.me/okta/hooks/registration/dblookup",
					"protocol": "https",
					"host": [
						"okta-hooks",
						"glitch",
						"me"
					],
					"path": [
						"okta",
						"hooks",
						"registration",
						"dblookup"
					]
				}
			},
			"response": []
		},
		{
			"name": "Sample call to registration hook with email domain",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"data\": {\n\t\t\"userProfile\": {\n\t\t\t\"userName\": \"grover@error.example.com\",\n\t\t\t\"email\": \"grover@error.example.com\"\n\t\t}\n\t}\n}"
				},
				"url": {
					"raw": "https://okta-hooks.glitch.me/okta/hooks/registration/domain",
					"protocol": "https",
					"host": [
						"okta-hooks",
						"glitch",
						"me"
					],
					"path": [
						"okta",
						"hooks",
						"registration",
						"domain"
					]
				}
			},
			"response": []
		},
		{
			"name": "Sample call to member-data service used by DB lookup",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"memberId\": \"12345678\",\n\t\"ssn\": \"111223333\"\n}"
				},
				"url": {
					"raw": "https://member-data.glitch.me/members",
					"protocol": "https",
					"host": [
						"member-data",
						"glitch",
						"me"
					],
					"path": [
						"members"
					]
				}
			},
			"response": []
		}
	]
}